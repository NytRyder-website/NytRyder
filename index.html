<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nyt Ryder - After Hours E-Hailing in Eastern Cape</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f1a30;
            --secondary: #1a2b4d;
            --accent: #6a5af9;
            --accent-light: #8a7dfa;
            --text: #f0f0f0;
            --text-secondary: #b0b0b0;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --radius: 12px;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--primary);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            line-height: 1.3;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header & Navigation */
        header {
            background-color: var(--primary);
            padding: 15px 0;
            position: fixed;
            width: 100%;
            z-index: 1000;
            box-shadow: var(--shadow);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            border-radius: 50%;
            font-size: 20px;
            font-weight: 800;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .logo::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            top: -3px;
            right: -3px;
        }
        
        .logo-text {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 800;
            color: white;
            letter-spacing: 1px;
        }
        
        .logo-text span {
            color: var(--accent);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }
        
        nav a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            transition: var(--transition);
            padding: 8px 0;
            position: relative;
        }
        
        nav a:hover {
            color: var(--accent);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: var(--transition);
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        .user-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-btn {
            padding: 10px 20px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 14px;
        }
        
        .login-btn {
            background-color: transparent;
            color: var(--text);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .login-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }
        
        .register-btn {
            background: linear-gradient(to right, var(--accent), var(--accent-light));
            color: white;
        }
        
        .register-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(106, 90, 249, 0.4);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: var(--radius);
            background-color: rgba(255, 255, 255, 0.05);
            transition: var(--transition);
        }
        
        .user-profile:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            z-index: 1001;
        }
        
        /* Auth Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .auth-modal {
            background-color: var(--secondary);
            border-radius: var(--radius);
            width: 90%;
            max-width: 500px;
            padding: 30px;
            box-shadow: var(--shadow);
            transform: translateY(30px);
            transition: var(--transition);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-overlay.active .auth-modal {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close-modal:hover {
            color: var(--accent);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .auth-tab {
            padding: 12px 20px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }
        
        .auth-tab.active {
            color: var(--accent);
        }
        
        .auth-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--accent);
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 14px;
            border-radius: var(--radius);
            border: 1px solid rgba(255, 255, 255, 0.1);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text);
            font-size: 14px;
            transition: var(--transition);
            resize: vertical;
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(106, 90, 249, 0.2);
        }
        
        .phone-input-group {
            display: flex;
            gap: 10px;
        }
        
        .phone-prefix {
            flex: 0 0 80px;
        }
        
        .phone-number {
            flex: 1;
        }
        
        .submit-btn {
            background: linear-gradient(to right, var(--accent), var(--accent-light));
            color: white;
            border: none;
            width: 100%;
            padding: 16px;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(106, 90, 249, 0.3);
        }
        
        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* OTP Form */
        .otp-form {
            display: none;
            text-align: center;
        }
        
        .otp-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .otp-container {
            text-align: center;
            padding: 20px 0;
        }
        
        .otp-inputs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .otp-input {
            width: 50px;
            height: 60px;
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            border-radius: 8px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text);
            transition: var(--transition);
        }
        
        .otp-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(106, 90, 249, 0.2);
        }
        
        .otp-timer {
            margin-top: 20px;
            color: var(--text-secondary);
        }
        
        .resend-otp {
            background: none;
            border: none;
            color: var(--accent);
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: var(--transition);
        }
        
        .resend-otp:hover {
            text-decoration: underline;
        }
        
        .resend-otp.disabled {
            color: var(--text-secondary);
            cursor: not-allowed;
        }
        
        /* File Upload */
        .file-upload-group {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .file-upload-group:hover {
            border-color: var(--accent);
            background-color: rgba(106, 90, 249, 0.05);
        }
        
        .file-upload-icon {
            font-size: 36px;
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .file-name {
            margin-top: 10px;
            color: var(--text-secondary);
            font-size: 12px;
        }
        
        /* Driver Registration */
        .driver-commission {
            background-color: rgba(245, 158, 11, 0.1);
            border-radius: var(--radius);
            padding: 15px;
            margin-bottom: 20px;
            border-left: 4px solid var(--warning);
            font-size: 14px;
        }
        
        .commission-rate {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--warning);
            text-align: center;
            margin: 10px 0;
        }
        
        /* Hero Section */
        .hero {
            padding: 150px 0 80px;
            background: linear-gradient(rgba(15, 26, 48, 0.9), rgba(15, 26, 48, 0.95)), url('https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero p {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 30px;
        }
        
        .accent-text {
            color: var(--accent);
            font-weight: 800;
        }
        
        .location-tag {
            display: inline-block;
            background-color: rgba(106, 90, 249, 0.2);
            color: var(--accent);
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 600;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        
        .cta-button {
            display: inline-block;
            background: linear-gradient(to right, var(--accent), var(--accent-light));
            color: white;
            padding: 14px 30px;
            border-radius: var(--radius);
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: var(--transition);
            box-shadow: var(--shadow);
            border: none;
            cursor: pointer;
            margin: 10px;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(106, 90, 249, 0.4);
        }
        
        .cta-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
        }
        
        .cta-button.secondary {
            background: linear-gradient(to right, var(--warning), #fbbf24);
        }
        
        .cta-button.secondary:hover {
            box-shadow: 0 15px 30px rgba(245, 158, 11, 0.4);
        }
        
        /* Pricing Calculator */
        .calculator-section {
            padding: 80px 0;
            background-color: var(--secondary);
        }
        
        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background-color: var(--accent);
            border-radius: 2px;
        }
        
        .calculator-container {
            background-color: var(--primary);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .calculator-notice {
            background-color: rgba(245, 158, 11, 0.1);
            border-radius: var(--radius);
            padding: 15px;
            margin-bottom: 20px;
            border-left: 4px solid var(--warning);
            font-size: 14px;
        }
        
        .location-group {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .location-search-container {
            position: relative;
            margin-bottom: 20px;
        }
        
        .location-search-input {
            width: 100%;
            padding: 14px 14px 14px 40px;
            border-radius: var(--radius);
            border: 1px solid rgba(255, 255, 255, 0.1);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text);
            font-size: 14px;
            transition: var(--transition);
        }
        
        .location-search-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(106, 90, 249, 0.2);
        }
        
        .location-search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }
        
        .location-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--secondary);
            border-radius: 0 0 var(--radius) var(--radius);
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-top: none;
        }
        
        .location-results.active {
            display: block;
        }
        
        .location-result-item {
            padding: 10px 15px;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 14px;
        }
        
        .location-result-item:hover {
            background-color: rgba(106, 90, 249, 0.1);
        }
        
        .calculate-btn {
            background: linear-gradient(to right, var(--accent), var(--accent-light));
            color: white;
            border: none;
            width: 100%;
            padding: 16px;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(106, 90, 249, 0.3);
        }
        
        .calculate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .login-required {
            text-align: center;
            padding: 15px;
            background-color: rgba(239, 68, 68, 0.1);
            border-radius: var(--radius);
            margin-bottom: 20px;
            border-left: 4px solid var(--danger);
            font-size: 14px;
        }
        
        .result-container {
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius);
            border-left: 4px solid var(--success);
            display: none;
        }
        
        .result-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .result-title {
            font-size: 1.2rem;
            color: var(--success);
        }
        
        .result-price {
            font-size: 2rem;
            font-weight: 800;
            color: white;
        }
        
        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .detail-box {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: var(--radius);
            font-size: 14px;
        }
        
        /* Booking Confirmation */
        .booking-confirmation {
            margin-top: 20px;
            padding: 20px;
            background-color: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius);
            border-left: 4px solid #3b82f6;
            display: none;
        }
        
        .booking-confirmation.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .confirmation-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .confirm-btn {
            flex: 1;
            min-width: 150px;
            padding: 14px;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }
        
        .book-now-btn {
            background: linear-gradient(to right, var(--success), #34d399);
            color: white;
        }
        
        .book-now-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }
        
        .cancel-btn {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .cancel-btn:hover {
            border-color: var(--danger);
            color: var(--danger);
        }
        
        /* Contact Information Modal */
        .contact-modal {
            background-color: var(--secondary);
            border-radius: var(--radius);
            width: 90%;
            max-width: 700px;
            padding: 30px;
            box-shadow: var(--shadow);
            transform: translateY(30px);
            transition: var(--transition);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-overlay.active .contact-modal {
            transform: translateY(0);
        }
        
        .contact-info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .contact-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius);
            padding: 20px;
            border-left: 4px solid var(--accent);
        }
        
        .contact-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .contact-card p {
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .payment-details {
            background-color: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius);
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid var(--success);
        }
        
        .payment-details h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .bank-details {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        
        .bank-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
        }
        
        .bank-label {
            color: var(--text-secondary);
        }
        
        .bank-value {
            font-weight: 600;
        }
        
        .booking-success {
            text-align: center;
            padding: 20px 10px;
        }
        
        .success-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--success), #34d399);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 36px;
        }
        
        .booking-success h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--success);
        }
        
        .booking-success p {
            color: var(--text-secondary);
            margin-bottom: 20px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            font-size: 14px;
        }
        
        /* Services Section */
        .services-section {
            padding: 80px 0;
            background-color: var(--primary);
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .service-card {
            background-color: var(--secondary);
            border-radius: var(--radius);
            padding: 30px 20px;
            text-align: center;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
        
        .service-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 24px;
        }
        
        .service-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .service-card p {
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        /* Footer */
        footer {
            background-color: #0a1427;
            padding: 50px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-logo {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 800;
            color: white;
            margin-bottom: 15px;
        }
        
        .footer-logo span {
            color: var(--accent);
        }
        
        .footer-description {
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        .social-links {
            display: flex;
            gap: 10px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: var(--secondary);
            border-radius: 50%;
            color: var(--text);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .social-links a:hover {
            background-color: var(--accent);
            transform: translateY(-3px);
        }
        
        .footer-heading {
            font-size: 1rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 8px;
        }
        
        .footer-heading::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 30px;
            height: 3px;
            background-color: var(--accent);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
            font-size: 14px;
        }
        
        .footer-links a:hover {
            color: var(--accent);
            padding-left: 5px;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            font-size: 12px;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            nav {
                position: fixed;
                top: 80px;
                left: 0;
                width: 100%;
                background-color: var(--primary);
                padding: 20px;
                box-shadow: var(--shadow);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: var(--transition);
                z-index: 999;
            }
            
            nav.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            
            nav ul {
                flex-direction: column;
                gap: 0;
                align-items: flex-start;
            }
            
            nav li {
                width: 100%;
            }
            
            nav a {
                display: block;
                padding: 12px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            nav li:last-child a {
                border-bottom: none;
            }
            
            .hero {
                padding: 120px 0 60px;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .calculator-container {
                padding: 20px;
            }
            
            .result-price {
                font-size: 1.8rem;
            }
            
            .auth-modal, .contact-modal {
                padding: 20px;
            }
            
            .confirmation-buttons {
                flex-direction: column;
            }
            
            .confirm-btn {
                min-width: 100%;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .cta-button {
                width: 100%;
                margin: 5px 0;
            }
        }
        
        @media (max-width: 576px) {
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .result-details {
                grid-template-columns: 1fr;
            }
            
            .otp-inputs {
                gap: 8px;
            }
            
            .otp-input {
                width: 40px;
                height: 50px;
                font-size: 20px;
            }
            
            .contact-info-grid {
                grid-template-columns: 1fr;
            }
            
            .phone-input-group {
                flex-direction: column;
            }
            
            .phone-prefix, .phone-number {
                width: 100%;
            }
        }
        
        /* Alert System */
        .custom-alert {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 3000;
            min-width: 300px;
            max-width: 400px;
            border-radius: var(--radius);
            padding: 15px;
            box-shadow: var(--shadow);
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .alert-success {
            background: var(--success);
            color: white;
            border-left: 4px solid #0da769;
        }
        
        .alert-error {
            background: var(--danger);
            color: white;
            border-left: 4px solid #d33;
        }
        
        .alert-warning {
            background: var(--warning);
            color: white;
            border-left: 4px solid #d97706;
        }
        
        .alert-info {
            background: var(--accent);
            color: white;
            border-left: 4px solid #5a4af4;
        }
        
        .alert-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-content i:first-child {
            font-size: 20px;
        }
        
        .alert-content span {
            flex: 1;
            font-size: 14px;
        }
        
        .alert-close {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 0;
            font-size: 14px;
        }
        
        /* Dashboard Styles */
        .dashboard-section {
            padding: 100px 0;
            background-color: var(--primary);
            min-height: calc(100vh - 200px);
        }
        
        .dashboard-container {
            background-color: var(--secondary);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .dashboard-title {
            font-size: 1.8rem;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--accent);
            margin: 10px 0;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .booking-history {
            margin-top: 40px;
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .history-table th,
        .history-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .history-table th {
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 14px;
        }
        
        .history-table td {
            font-size: 14px;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-pending {
            background-color: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .status-confirmed {
            background-color: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .status-completed {
            background-color: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }
        
        .status-cancelled {
            background-color: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }
        
        .empty-state {
            text-align: center;
            padding: 40px;
            color: var(--text-secondary);
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--accent);
        }
        
        @media (max-width: 768px) {
            .dashboard-section {
                padding: 80px 0;
            }
            
            .dashboard-container {
                padding: 20px;
            }
            
            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
            
            .history-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <div class="container header-content">
            <div class="logo-container">
                <div class="logo">NR</div>
                <div class="logo-text">Nyt<span>Ryder</span></div>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#calculator">Book a Ride</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#driver">Become a Driver</a></li>
                    <li id="dashboardLink" style="display: none;"><a href="#dashboard">My Rides</a></li>
                </ul>
            </nav>
            
            <div class="user-actions" id="userActions">
                <button class="user-btn login-btn" id="loginBtn">Log In</button>
                <button class="user-btn register-btn" id="registerBtn">Sign Up</button>
            </div>
            
            <div class="user-profile" id="userProfile" style="display: none;">
                <div class="user-avatar" id="userAvatar">JD</div>
                <div class="user-name" id="userName">John Doe</div>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
    </header>

    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="auth-modal">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Welcome to Nyt Ryder</h2>
                <button class="close-modal" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTab">Log In</button>
                <button class="auth-tab" id="registerTab">Register</button>
                <button class="auth-tab" id="driverTab">Become a Driver</button>
            </div>
            
            <!-- Login Form -->
            <div class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email Address *</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email address" required>
                </div>
                
                <button class="submit-btn" id="requestLoginOtpBtn">
                    <i class="fas fa-envelope"></i> Send Email OTP
                </button>
                
                <p style="margin-top: 15px; font-size: 12px; color: var(--text-secondary); text-align: center;">
                    <i class="fas fa-info-circle"></i> We'll send a 6-digit OTP to your email
                </p>
            </div>
            
            <!-- Register Form -->
            <div class="auth-form" id="registerForm">
                <div class="form-group">
                    <label for="registerName">Full Name *</label>
                    <input type="text" id="registerName" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-group">
                    <label for="registerPhone">Phone Number *</label>
                    <div class="phone-input-group">
                        <select class="phone-prefix" id="registerPrefix">
                            <option value="+27">+27 (ZA)</option>
                        </select>
                        <input type="tel" id="registerPhone" placeholder="Enter your phone number" maxlength="9" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="registerEmail">Email Address *</label>
                    <input type="email" id="registerEmail" placeholder="Enter your email address" required>
                </div>
                
                <div class="form-group">
                    <label for="registerAddress">Address (Optional)</label>
                    <input type="text" id="registerAddress" placeholder="Enter your address for faster booking">
                </div>
                
                <button class="submit-btn" id="requestRegisterOtpBtn">
                    <i class="fas fa-envelope"></i> Send Email OTP
                </button>
            </div>
            
            <!-- Driver Registration Form -->
            <div class="auth-form" id="driverForm">
                <div class="driver-commission">
                    <h3><i class="fas fa-percentage"></i> Driver Commission</h3>
                    <p>Earn 65% of every ride you complete</p>
                    <div class="commission-rate">65%</div>
                    <p>We provide SpeedPoint machines and take only 35% commission</p>
                </div>
                
                <div class="form-group">
                    <label for="driverName">Full Name *</label>
                    <input type="text" id="driverName" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-group">
                    <label for="driverId">ID Number *</label>
                    <input type="text" id="driverId" placeholder="Enter your South African ID number" required>
                </div>
                
                <div class="form-group">
                    <label for="driverPhone">Phone Number *</label>
                    <div class="phone-input-group">
                        <select class="phone-prefix" id="driverPrefix">
                            <option value="+27">+27 (ZA)</option>
                        </select>
                        <input type="tel" id="driverPhone" placeholder="Enter your phone number" maxlength="9" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="driverEmail">Email Address *</label>
                    <input type="email" id="driverEmail" placeholder="Enter your email address" required>
                </div>
                
                <div class="form-group">
                    <label for="driverAddress">Residential Address *</label>
                    <textarea id="driverAddress" placeholder="Enter your full residential address" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="driverLicense">Driver's License Number *</label>
                    <input type="text" id="driverLicense" placeholder="Enter your driver's license number" required>
                </div>
                
                <div class="form-group">
                    <label for="carModel">Car Model & Year *</label>
                    <input type="text" id="carModel" placeholder="e.g., Toyota Corolla 2020" required>
                </div>
                
                <div class="form-group">
                    <label for="carRegistration">Car Registration Number *</label>
                    <input type="text" id="carRegistration" placeholder="e.g., CA 123-456" required>
                </div>
                
                <div class="form-group">
                    <label for="carColor">Car Color *</label>
                    <input type="text" id="carColor" placeholder="e.g., Silver" required>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="criminalCheck"> I confirm I have no criminal record
                    </label>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="ownerCheck"> I confirm I am the owner of this vehicle
                    </label>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="termsCheck"> I agree to the 35% commission structure and terms of service
                    </label>
                </div>
                
                <button class="submit-btn" id="submitDriverBtn">Submit Driver Application</button>
            </div>
            
            <!-- OTP Verification Form -->
            <div class="otp-form" id="otpForm">
                <div class="otp-container">
                    <h3>Verify Your Email</h3>
                    <p id="otpMessage">Enter the 6-digit OTP sent to your email</p>
                    
                    <div class="otp-inputs">
                        <input type="text" class="otp-input" maxlength="1" data-index="0">
                        <input type="text" class="otp-input" maxlength="1" data-index="1">
                        <input type="text" class="otp-input" maxlength="1" data-index="2">
                        <input type="text" class="otp-input" maxlength="1" data-index="3">
                        <input type="text" class="otp-input" maxlength="1" data-index="4">
                        <input type="text" class="otp-input" maxlength="1" data-index="5">
                    </div>
                    
                    <div class="otp-timer">
                        <span id="otpTimer">10:00</span> remaining
                    </div>
                    
                    <button class="resend-otp disabled" id="resendOtpBtn">
                        <i class="fas fa-redo"></i> Resend OTP
                    </button>
                    
                    <button class="submit-btn" id="verifyOtpBtn">Verify OTP</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Information Modal -->
    <div class="modal-overlay" id="contactModal">
        <div class="contact-modal">
            <div class="modal-header">
                <h2 class="modal-title">Booking Confirmed!</h2>
                <button class="close-modal" id="closeContactModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="contactInfoContent">
                <div class="booking-success" id="bookingSuccess">
                    <div class="success-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <h2>Booking Successful!</h2>
                    <p>Your ride has been booked successfully. We've sent a confirmation email to your registered email address. Please check your inbox (and spam folder).</p>
                    
                    <div class="contact-info-grid">
                        <div class="contact-card">
                            <h3><i class="fas fa-phone"></i> Contact Information</h3>
                            <p><strong>Phone:</strong> +27 43 642 1087</p>
                            <p><strong>Email:</strong> info@nytryder.co.za</p>
                            <p><strong>Emergency:</strong> +27 82 123 4567</p>
                            <p><strong>Operating Hours:</strong> 6 PM - 6 AM Daily</p>
                        </div>
                        
                        <div class="contact-card">
                            <h3><i class="fas fa-map-marker-alt"></i> Dispatch Information</h3>
                            <p>Your driver will contact you within 10-15 minutes to confirm pickup details.</p>
                            <p>Please have your payment method ready.</p>
                            <p>If you need to modify your booking, please call us immediately.</p>
                        </div>
                    </div>
                    
                    <div class="payment-details">
                        <h3><i class="fas fa-credit-card"></i> Payment Options</h3>
                        <p>You can pay using any of the following methods:</p>
                        
                        <div class="confirmation-buttons" style="margin-top: 20px;">
                            <button class="confirm-btn book-now-btn" style="background: linear-gradient(to right, #f59e0b, #fbbf24);">
                                <i class="fas fa-credit-card"></i> SpeedPoint with Driver
                            </button>
                            <button class="confirm-btn book-now-btn" style="background: linear-gradient(to right, #10b981, #34d399);">
                                <i class="fas fa-money-bill-wave"></i> Cash Payment
                            </button>
                        </div>
                        
                        <div class="bank-details">
                            <h4 style="margin-top: 25px; margin-bottom: 15px;">Bank Transfer Details (EFT)</h4>
                            <div class="bank-item">
                                <span class="bank-label">Bank Name:</span>
                                <span class="bank-value">FIRST NATIONAL BANK</span>
                            </div>
                            <div class="bank-item">
                                <span class="bank-label">Account Number:</span>
                                <span class="bank-value">62842333693</span>
                            </div>
                            <div class="bank-item">
                                <span class="bank-label">Account Type:</span>
                                <span class="bank-value">GOLD BUSINESS ACCOUNT</span>
                            </div>
                            <div class="bank-item">
                                <span class="bank-label">Branch Code:</span>
                                <span class="bank-value">210519</span>
                            </div>
                            <div class="bank-item">
                                <span class="bank-label">Account Type:</span>
                                <span class="bank-value">CURRENT/CHEQUE</span>
                            </div>
                        </div>
                        
                        <p style="margin-top: 20px; font-size: 14px; color: var(--text-secondary);">
                            <i class="fas fa-info-circle"></i> For EFT payments, please use your booking ID as reference and send proof of payment to info@nytryder.co.za
                        </p>
                    </div>
                    
                    <button class="submit-btn" id="closeSuccessBtn" style="margin-top: 30px;">
                        <i class="fas fa-check-circle"></i> Got It, Thanks!
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Section (Hidden by default) -->
    <section class="dashboard-section" id="dashboard" style="display: none;">
        <div class="container">
            <div class="dashboard-container">
                <div class="dashboard-header">
                    <h2 class="dashboard-title">My Rides</h2>
                    <button class="user-btn register-btn" id="newRideBtn">Book New Ride</button>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalRides">0</div>
                        <div class="stat-label">Total Rides</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalSpent">R0.00</div>
                        <div class="stat-label">Total Spent</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="lastRide">-</div>
                        <div class="stat-label">Last Ride</div>
                    </div>
                </div>
                
                <div class="booking-history">
                    <h3>Recent Bookings</h3>
                    <div id="bookingHistory">
                        <div class="empty-state">
                            <i class="fas fa-car"></i>
                            <h4>No bookings yet</h4>
                            <p>Book your first ride to see your history here</p>
                            <button class="cta-button" id="bookFirstRide">Book Your First Ride</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h1>After Hours <span class="accent-text">E-Hailing</span> Across Eastern Cape</h1>
            <p>Safe, reliable rides when you need them most. Nyt Ryder operates exclusively from 6 PM to 6 AM, providing premium transportation services throughout the night with competitive pricing.</p>
            <div class="location-tag">
                <i class="fas fa-map-marker-alt"></i> Serving all towns and villages across Eastern Cape
            </div>
            
            <div class="cta-buttons">
                <a href="#calculator" class="cta-button">Book a Ride</a>
                <a href="#driver" class="cta-button secondary">Become a Driver</a>
            </div>
        </div>
    </section>

    <!-- Pricing Calculator -->
    <section class="calculator-section" id="calculator">
        <div class="container">
            <h2 class="section-title">Book Your Ride</h2>
            
            <div class="calculator-container">
                <div class="calculator-notice" id="calculatorNotice">
                    <i class="fas fa-info-circle"></i> You need to <a href="#" id="noticeLoginLink">log in</a> or <a href="#" id="noticeRegisterLink">register</a> to book a ride. This helps us save your ride history for future reference.
                </div>
                
                <div class="form-group">
                    <label for="pickupTime">Pickup Time</label>
                    <select id="pickupTime">
                        <option value="">Select pickup time</option>
                        <option value="18:00">6:00 PM</option>
                        <option value="18:30">6:30 PM</option>
                        <option value="19:00">7:00 PM</option>
                        <option value="19:30">7:30 PM</option>
                        <option value="20:00">8:00 PM</option>
                        <option value="20:30">8:30 PM</option>
                        <option value="21:00">9:00 PM</option>
                        <option value="21:30">9:30 PM</option>
                        <option value="22:00">10:00 PM</option>
                        <option value="22:30">10:30 PM</option>
                        <option value="23:00">11:00 PM</option>
                        <option value="23:30">11:30 PM</option>
                        <option value="00:00">12:00 AM</option>
                        <option value="00:30">12:30 AM</option>
                        <option value="01:00">1:00 AM</option>
                        <option value="01:30">1:30 AM</option>
                        <option value="02:00">2:00 AM</option>
                        <option value="02:30">2:30 AM</option>
                        <option value="03:00">3:00 AM</option>
                        <option value="03:30">3:30 AM</option>
                        <option value="04:00">4:00 AM</option>
                        <option value="04:30">4:30 AM</option>
                        <option value="05:00">5:00 AM</option>
                        <option value="05:30">5:30 AM</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="pickupSearch">Pickup Location</label>
                    <div class="location-search-container">
                        <i class="fas fa-search location-search-icon"></i>
                        <input type="text" id="pickupSearch" class="location-search-input" placeholder="Type to search locations...">
                        <div class="location-results" id="pickupResults"></div>
                    </div>
                    <input type="hidden" id="pickupValue">
                </div>
                
                <div class="form-group">
                    <label for="destinationSearch">Destination</label>
                    <div class="location-search-container">
                        <i class="fas fa-search location-search-icon"></i>
                        <input type="text" id="destinationSearch" class="location-search-input" placeholder="Type to search locations...">
                        <div class="location-results" id="destinationResults"></div>
                    </div>
                    <input type="hidden" id="destinationValue">
                </div>
                
                <button class="calculate-btn" id="calculateBtn" disabled>
                    <i class="fas fa-car"></i> Get Fare Estimate
                </button>
                
                <div class="result-container" id="resultContainer">
                    <div class="result-header">
                        <div class="result-title">Estimated Fare</div>
                        <div class="result-price" id="resultPrice">R0.00</div>
                    </div>
                    
                    <p>Your estimated fare based on the distance. Final price may vary based on exact route and traffic conditions.</p>
                    
                    <div class="result-details">
                        <div class="detail-box">
                            <h4>Pickup</h4>
                            <p id="resultFrom">Location</p>
                        </div>
                        <div class="detail-box">
                            <h4>Destination</h4>
                            <p id="resultTo">Location</p>
                        </div>
                        <div class="detail-box">
                            <h4>Pickup Time</h4>
                            <p id="resultTime">Time</p>
                        </div>
                        <div class="detail-box">
                            <h4>Estimated Distance</h4>
                            <p id="resultDistance">0 km</p>
                        </div>
                    </div>
                    
                    <div class="booking-confirmation" id="bookingConfirmation">
                        <h3><i class="fas fa-question-circle"></i> Would you like to book this ride?</h3>
                        <p>If you'd like to proceed with booking this ride, click "Book Now". We'll provide you with our contact information and payment options.</p>
                        
                        <div class="confirmation-buttons">
                            <button class="confirm-btn book-now-btn" id="bookNowBtn">
                                <i class="fas fa-car"></i> Book Now
                            </button>
                            <button class="confirm-btn cancel-btn" id="cancelBookingBtn">
                                <i class="fas fa-times"></i> Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Driver Registration Section -->
    <section class="calculator-section" id="driver">
        <div class="container">
            <h2 class="section-title">Become a Nyt Ryder Driver</h2>
            
            <div class="calculator-container">
                <div class="driver-commission">
                    <h3><i class="fas fa-percentage"></i> Driver Commission</h3>
                    <p>Earn 65% of every ride you complete</p>
                    <div class="commission-rate">65%</div>
                    <p>We provide SpeedPoint machines and handle all booking administration</p>
                </div>
                
                <div class="calculator-notice">
                    <h3><i class="fas fa-check-circle"></i> Driver Requirements:</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Valid South African driver's license</li>
                        <li>Vehicle ownership proof (in your name)</li>
                        <li>Clean criminal record</li>
                        <li>Valid vehicle license disc & roadworthy certificate</li>
                        <li>Comprehensive insurance (recommended)</li>
                        <li>Available to work night shifts (6 PM - 6 AM)</li>
                    </ul>
                </div>
                
                <div class="calculator-notice" style="background-color: rgba(16, 185, 129, 0.1); border-color: var(--success);">
                    <h3><i class="fas fa-shield-alt"></i> We Provide:</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>SpeedPoint payment machines</li>
                        <li>24/7 dispatch support</li>
                        <li>Customer booking management</li>
                        <li>Marketing and customer acquisition</li>
                        <li>Driver safety protocols</li>
                        <li>Weekly payment processing</li>
                    </ul>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="cta-button secondary" id="openDriverForm">
                        <i class="fas fa-user-plus"></i> Apply to Become a Driver
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services-section" id="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-car"></i>
                    </div>
                    <h3>Standard Rides</h3>
                    <p>Comfortable and reliable transportation for individuals and small groups across all Eastern Cape towns and villages.</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <h3>Group Rides</h3>
                    <p>Larger vehicles available for groups traveling together during night hours.</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <h3>Business Service</h3>
                    <p>Professional drivers for business travelers needing late-night transportation.</p>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <div class="footer-logo">Nyt<span>Ryder</span></div>
                    <p class="footer-description">Providing safe and reliable after-hours e-hailing services across Eastern Cape from 6 PM to 6 AM. We ensure you get to your destination safely, no matter the hour.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                
                <div class="footer-links-container">
                    <h3 class="footer-heading">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#calculator">Book a Ride</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#driver">Become a Driver</a></li>
                    </ul>
                </div>
                
                <div class="footer-contact">
                    <h3 class="footer-heading">Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-phone"></i> +27 43 642 1087</li>
                        <li><i class="fas fa-envelope"></i> info@nytryder.co.za</li>
                        <li><i class="fas fa-map-marker-alt"></i> Eastern Cape, South Africa</li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Nyt Ryder. All rights reserved. | After Hours E-Hailing Service</p>
            </div>
        </div>
    </footer>

    <script>
        // ===================== CONFIGURATION =====================
        // Email Service Configuration
        const EMAIL_CONFIG = {
            // For production, use EmailJS (FREE for 200 emails/month)
            serviceId: 'YOUR_EMAILJS_SERVICE_ID', // Optional for production
            templateId: 'YOUR_EMAILJS_TEMPLATE_ID', // Optional for production
            publicKey: 'YOUR_EMAILJS_PUBLIC_KEY' // Optional for production
        };
        
        // Application Configuration
        const APP_CONFIG = {
            // Demo mode shows OTP on screen, production mode would send real emails
            isDemoMode: true, // Set to false when you add EmailJS credentials
            maxOtpAttempts: 3,
            otpCooldown: 30000, // 30 seconds between OTP requests
            otpExpiryMinutes: 10,
            adminEmail: 'mzovuyo.mei@gmail.com' // For notifications
        };
        
        // ===================== DATA STORAGE SYSTEM =====================
        class DataStorage {
            constructor() {
                this.usersKey = 'nytRyderUsers';
                this.bookingsKey = 'nytRyderBookings';
                this.currentUserKey = 'nytRyderCurrentUser';
                this.driversKey = 'nytRyderDrivers';
                this.otpStoreKey = 'nytRyderOtpStore';
                this.rateLimitKey = 'nytRyderRateLimit';
            }
            
            // User Management
            saveUser(user) {
                const users = this.getUsers();
                const existingUserIndex = users.findIndex(u => u.email === user.email);
                
                if (existingUserIndex > -1) {
                    users[existingUserIndex] = { ...users[existingUserIndex], ...user };
                } else {
                    user.id = Date.now().toString();
                    user.createdAt = new Date().toISOString();
                    user.bookings = [];
                    user.verified = true;
                    users.push(user);
                }
                
                localStorage.setItem(this.usersKey, JSON.stringify(users));
                return user;
            }
            
            getUsers() {
                return JSON.parse(localStorage.getItem(this.usersKey)) || [];
            }
            
            getUserById(id) {
                return this.getUsers().find(user => user.id === id);
            }
            
            getUserByEmail(email) {
                return this.getUsers().find(user => user.email.toLowerCase() === email.toLowerCase());
            }
            
            // OTP Management
            saveOtp(email, otp) {
                const otpStore = this.getOtpStore();
                otpStore[email] = {
                    otp,
                    expiresAt: Date.now() + (APP_CONFIG.otpExpiryMinutes * 60000),
                    attempts: 0
                };
                localStorage.setItem(this.otpStoreKey, JSON.stringify(otpStore));
            }
            
            getOtp(email) {
                const otpStore = this.getOtpStore();
                return otpStore[email];
            }
            
            incrementOtpAttempts(email) {
                const otpStore = this.getOtpStore();
                if (otpStore[email]) {
                    otpStore[email].attempts++;
                    localStorage.setItem(this.otpStoreKey, JSON.stringify(otpStore));
                }
            }
            
            removeOtp(email) {
                const otpStore = this.getOtpStore();
                delete otpStore[email];
                localStorage.setItem(this.otpStoreKey, JSON.stringify(otpStore));
            }
            
            getOtpStore() {
                return JSON.parse(localStorage.getItem(this.otpStoreKey)) || {};
            }
            
            // Rate Limiting
            checkRateLimit(email) {
                const rateLimit = JSON.parse(localStorage.getItem(this.rateLimitKey)) || {};
                const lastRequest = rateLimit[email];
                
                if (lastRequest) {
                    const timeSince = Date.now() - lastRequest;
                    if (timeSince < APP_CONFIG.otpCooldown) {
                        return false;
                    }
                }
                
                rateLimit[email] = Date.now();
                localStorage.setItem(this.rateLimitKey, JSON.stringify(rateLimit));
                return true;
            }
            
            // Booking Management
            saveBooking(booking) {
                const bookings = this.getBookings();
                booking.id = Date.now().toString();
                booking.createdAt = new Date().toISOString();
                booking.status = 'pending';
                bookings.push(booking);
                
                localStorage.setItem(this.bookingsKey, JSON.stringify(bookings));
                
                // Also add to user's bookings
                const users = this.getUsers();
                const userIndex = users.findIndex(u => u.id === booking.userId);
                if (userIndex > -1) {
                    if (!users[userIndex].bookings) users[userIndex].bookings = [];
                    users[userIndex].bookings.push(booking.id);
                    localStorage.setItem(this.usersKey, JSON.stringify(users));
                }
                
                return booking;
            }
            
            getBookings() {
                return JSON.parse(localStorage.getItem(this.bookingsKey)) || [];
            }
            
            getUserBookings(userId) {
                return this.getBookings().filter(booking => booking.userId === userId);
            }
            
            // Driver Applications
            saveDriverApplication(driver) {
                const drivers = this.getDriverApplications();
                driver.id = Date.now().toString();
                driver.createdAt = new Date().toISOString();
                driver.status = 'pending';
                drivers.push(driver);
                
                localStorage.setItem(this.driversKey, JSON.stringify(drivers));
                return driver;
            }
            
            getDriverApplications() {
                return JSON.parse(localStorage.getItem(this.driversKey)) || [];
            }
            
            // Current User
            setCurrentUser(user) {
                localStorage.setItem(this.currentUserKey, JSON.stringify(user));
            }
            
            getCurrentUser() {
                return JSON.parse(localStorage.getItem(this.currentUserKey));
            }
            
            clearCurrentUser() {
                localStorage.removeItem(this.currentUserKey);
            }
            
            // Analytics
            getUserStats(userId) {
                const bookings = this.getUserBookings(userId);
                const totalRides = bookings.length;
                const totalSpent = bookings.reduce((sum, booking) => sum + (parseFloat(booking.fare) || 0), 0);
                const lastRide = bookings.length > 0 ? new Date(bookings[bookings.length - 1].createdAt).toLocaleDateString() : '-';
                
                return {
                    totalRides,
                    totalSpent,
                    lastRide,
                    bookings
                };
            }
        }
        
        // ===================== EMAIL SERVICE =====================
        class EmailService {
            static async sendOTP(email, otpCode) {
                // Check if we should use demo mode
                if (APP_CONFIG.isDemoMode) {
                    console.log(`Demo mode: OTP for ${email} is ${otpCode}`);
                    return { success: true, mode: 'demo', otp: otpCode };
                }
                
                // For production with EmailJS (FREE tier)
                try {
                    if (window.emailjs && EMAIL_CONFIG.publicKey) {
                        // Initialize EmailJS
                        emailjs.init(EMAIL_CONFIG.publicKey);
                        
                        const templateParams = {
                            to_email: email,
                            otp_code: otpCode,
                            expiry_minutes: APP_CONFIG.otpExpiryMinutes,
                            company_name: 'Nyt Ryder'
                        };
                        
                        await emailjs.send(
                            EMAIL_CONFIG.serviceId,
                            EMAIL_CONFIG.templateId,
                            templateParams
                        );
                        
                        return { success: true, mode: 'real' };
                    } else {
                        // Fallback to demo mode if EmailJS not configured
                        console.log(`EmailJS not configured. Demo OTP for ${email} is ${otpCode}`);
                        return { success: true, mode: 'demo', otp: otpCode };
                    }
                } catch (error) {
                    console.error('Email sending error:', error);
                    // Fall back to demo mode
                    console.log(`Email failed, using demo mode: OTP for ${email} is ${otpCode}`);
                    return { success: false, mode: 'demo', otp: otpCode, error: error.message };
                }
            }
            
            static async sendBookingConfirmation(email, bookingDetails) {
                if (APP_CONFIG.isDemoMode) {
                    console.log('Demo: Booking confirmation email would be sent to:', email);
                    console.log('Booking details:', bookingDetails);
                    return { success: true, mode: 'demo' };
                }
                
                // Implementation for real email sending would go here
                return { success: true, mode: 'demo' };
            }
            
            static async sendDriverApplicationNotification(driverDetails) {
                if (APP_CONFIG.isDemoMode) {
                    console.log('Demo: Driver application notification sent to admin:', APP_CONFIG.adminEmail);
                    console.log('Driver details:', driverDetails);
                    return { success: true, mode: 'demo' };
                }
                
                // Implementation for real email sending would go here
                return { success: true, mode: 'demo' };
            }
        }
        
        // ===================== APPLICATION STATE =====================
        const storage = new DataStorage();
        let currentUser = storage.getCurrentUser();
        let otpTimer = null;
        let otpSeconds = 600; // 10 minutes for email OTP
        let currentBooking = null;
        
        // Eastern Cape locations
        const easternCapeLocations = [
            "East London", "Port Elizabeth (Gqeberha)", "Mthatha", "Bhisho", "Queenstown",
            "Graaff-Reinet", "Cradock", "Grahamstown (Makhanda)", "Jeffreys Bay", 
            "Stutterheim", "Aliwal North", "Butterworth", "Kokstad", "Sterkspruit",
            "Qonce CBD", "Zwelitsha", "Mdantsane", "Cambridge", "Braelyn", "Amalinda",
            "Uitenhage", "Despatch", "Motherwell", "Walmer", "Summerstrand",
            "New Brighton", "Zwide", "Korsten", "Gelvandale", "Bethelsdorp"
        ];
        
        // ===================== UTILITY FUNCTIONS =====================
        function showAlert(message, type = 'info') {
            const existingAlert = document.querySelector('.custom-alert');
            if (existingAlert) existingAlert.remove();
            
            const alert = document.createElement('div');
            alert.className = `custom-alert alert-${type}`;
            alert.innerHTML = `
                <div class="alert-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                    <button class="alert-close"><i class="fas fa-times"></i></button>
                </div>
            `;
            
            document.body.appendChild(alert);
            
            alert.querySelector('.alert-close').addEventListener('click', function() {
                alert.remove();
            });
            
            setTimeout(() => {
                if (alert.parentNode) {
                    alert.remove();
                }
            }, 5000);
        }
        
        function getInitials(name) {
            if (!name) return 'NR';
            return name.split(' ').map(part => part[0]).join('').toUpperCase().substring(0, 2);
        }
        
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        // ===================== OTP FUNCTIONS =====================
        function startOtpTimer() {
            otpSeconds = 600; // 10 minutes
            updateOtpTimerDisplay();
            
            if (otpTimer) clearInterval(otpTimer);
            
            otpTimer = setInterval(() => {
                otpSeconds--;
                updateOtpTimerDisplay();
                
                if (otpSeconds <= 0) {
                    clearInterval(otpTimer);
                    const resendBtn = document.getElementById('resendOtpBtn');
                    if (resendBtn) resendBtn.classList.remove('disabled');
                }
            }, 1000);
            
            const resendBtn = document.getElementById('resendOtpBtn');
            if (resendBtn) resendBtn.classList.add('disabled');
        }
        
        function updateOtpTimerDisplay() {
            const minutes = Math.floor(otpSeconds / 60);
            const seconds = otpSeconds % 60;
            const timerElement = document.getElementById('otpTimer');
            if (timerElement) {
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
        }
        
        async function sendOTP(email, purpose = 'login') {
            if (!isValidEmail(email)) {
                showAlert('Please enter a valid email address', 'error');
                return false;
            }
            
            // Check rate limiting
            if (!storage.checkRateLimit(email)) {
                showAlert('Please wait 30 seconds before requesting another OTP', 'warning');
                return false;
            }
            
            // Generate OTP
            const otpCode = Math.floor(100000 + Math.random() * 900000).toString();
            
            // Show loading state
            const otpBtn = purpose === 'login' ? 
                document.getElementById('requestLoginOtpBtn') : 
                document.getElementById('requestRegisterOtpBtn');
            
            if (otpBtn) {
                const originalText = otpBtn.innerHTML;
                otpBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending Email...';
                otpBtn.disabled = true;
                
                try {
                    // Send OTP via Email
                    const result = await EmailService.sendOTP(email, otpCode);
                    
                    // Store OTP
                    storage.saveOtp(email, otpCode);
                    
                    // Switch to OTP form
                    switchAuthTab('otp');
                    startOtpTimer();
                    
                    // Update OTP message
                    const otpMessage = document.getElementById('otpMessage');
                    if (otpMessage) {
                        otpMessage.textContent = `Enter the 6-digit OTP sent to ${email}`;
                    }
                    
                    // Store email in session for verification
                    sessionStorage.setItem('otpEmail', email);
                    sessionStorage.setItem('otpPurpose', purpose);
                    
                    // Show appropriate message
                    if (result.mode === 'demo') {
                        showAlert(`Demo mode: OTP is ${otpCode}. Check your email for the OTP.`, 'info');
                    } else {
                        showAlert(`OTP sent to ${email}. Please check your inbox.`, 'success');
                    }
                    
                    return true;
                    
                } catch (error) {
                    console.error('OTP sending error:', error);
                    showAlert('Failed to send OTP. Please try again.', 'error');
                    return false;
                } finally {
                    // Restore button
                    if (otpBtn) {
                        otpBtn.innerHTML = originalText;
                        otpBtn.disabled = false;
                    }
                }
            }
            
            return false;
        }
        
        function verifyOTP(enteredOtp) {
            const email = sessionStorage.getItem('otpEmail');
            const purpose = sessionStorage.getItem('otpPurpose');
            
            if (!email) {
                showAlert('Session expired. Please request OTP again.', 'error');
                return false;
            }
            
            const storedOtpData = storage.getOtp(email);
            
            if (!storedOtpData) {
                showAlert('OTP expired or not found. Please request a new one.', 'error');
                return false;
            }
            
            if (Date.now() > storedOtpData.expiresAt) {
                storage.removeOtp(email);
                showAlert('OTP has expired. Please request a new one.', 'error');
                return false;
            }
            
            if (storedOtpData.attempts >= APP_CONFIG.maxOtpAttempts) {
                showAlert('Too many failed attempts. Please request a new OTP.', 'error');
                return false;
            }
            
            // For demo mode, also accept 123456
            const validOtp = storedOtpData.otp === enteredOtp || (APP_CONFIG.isDemoMode && enteredOtp === '123456');
            
            if (!validOtp) {
                storage.incrementOtpAttempts(email);
                const remainingAttempts = APP_CONFIG.maxOtpAttempts - storedOtpData.attempts - 1;
                showAlert(`Invalid OTP. ${remainingAttempts > 0 ? `${remainingAttempts} attempts remaining.` : 'No attempts remaining.'}`, 'error');
                return false;
            }
            
            // OTP verified successfully
            storage.removeOtp(email);
            clearInterval(otpTimer);
            
            // Handle login or registration
            if (purpose === 'login') {
                const user = storage.getUserByEmail(email);
                if (user) {
                    loginUser(user);
                    return true;
                } else {
                    showAlert('No account found with this email. Please register.', 'error');
                    return false;
                }
            } else if (purpose === 'register') {
                // Get registration data
                const name = document.getElementById('registerName').value;
                const phone = document.getElementById('registerPhone').value;
                const address = document.getElementById('registerAddress').value;
                
                const newUser = {
                    name,
                    phone,
                    email,
                    address
                };
                
                const savedUser = storage.saveUser(newUser);
                storage.setCurrentUser(savedUser);
                currentUser = savedUser;
                
                showAlert('Registration successful!', 'success');
                updateUI();
                closeAuthModal();
                return true;
            }
            
            return false;
        }
        
        // ===================== AUTH FUNCTIONS =====================
        function openAuthModal(tab) {
            const authModal = document.getElementById('authModal');
            if (authModal) {
                authModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                switchAuthTab(tab);
            }
        }
        
        function closeAuthModal() {
            const authModal = document.getElementById('authModal');
            if (authModal) {
                authModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }
        
        function switchAuthTab(tab) {
            const forms = ['loginForm', 'registerForm', 'driverForm', 'otpForm'];
            forms.forEach(formId => {
                const form = document.getElementById(formId);
                if (form) form.classList.remove('active');
            });
            
            const tabs = ['loginTab', 'registerTab', 'driverTab'];
            tabs.forEach(tabId => {
                const tab = document.getElementById(tabId);
                if (tab) tab.classList.remove('active');
            });
            
            if (tab === 'login') {
                const loginTab = document.getElementById('loginTab');
                const loginForm = document.getElementById('loginForm');
                if (loginTab) loginTab.classList.add('active');
                if (loginForm) loginForm.classList.add('active');
            } else if (tab === 'register') {
                const registerTab = document.getElementById('registerTab');
                const registerForm = document.getElementById('registerForm');
                if (registerTab) registerTab.classList.add('active');
                if (registerForm) registerForm.classList.add('active');
            } else if (tab === 'driver') {
                const driverTab = document.getElementById('driverTab');
                const driverForm = document.getElementById('driverForm');
                if (driverTab) driverTab.classList.add('active');
                if (driverForm) driverForm.classList.add('active');
            } else if (tab === 'otp') {
                const otpForm = document.getElementById('otpForm');
                if (otpForm) otpForm.classList.add('active');
            }
        }
        
        function loginUser(user) {
            storage.setCurrentUser(user);
            currentUser = user;
            updateUI();
            closeAuthModal();
            showAlert(`Welcome back, ${user.name}!`, 'success');
        }
        
        function logoutUser() {
            if (confirm('Are you sure you want to log out?')) {
                storage.clearCurrentUser();
                currentUser = null;
                updateUI();
                showAlert('Logged out successfully', 'success');
            }
        }
        
        // ===================== UI FUNCTIONS =====================
        function updateUI() {
            const userProfile = document.getElementById('userProfile');
            const userActions = document.getElementById('userActions');
            const dashboardLink = document.getElementById('dashboardLink');
            const calculateBtn = document.getElementById('calculateBtn');
            const calculatorNotice = document.getElementById('calculatorNotice');
            
            if (currentUser) {
                // User is logged in
                if (userProfile) {
                    userProfile.style.display = 'flex';
                    document.getElementById('userAvatar').textContent = getInitials(currentUser.name);
                    document.getElementById('userName').textContent = currentUser.name;
                }
                
                if (userActions) userActions.style.display = 'none';
                if (dashboardLink) dashboardLink.style.display = 'block';
                if (calculateBtn) calculateBtn.disabled = false;
                if (calculatorNotice) calculatorNotice.style.display = 'none';
            } else {
                // User is not logged in
                if (userProfile) userProfile.style.display = 'none';
                if (userActions) userActions.style.display = 'flex';
                if (dashboardLink) dashboardLink.style.display = 'none';
                if (calculateBtn) calculateBtn.disabled = true;
                if (calculatorNotice) calculatorNotice.style.display = 'block';
                
                // Hide dashboard
                document.getElementById('dashboard').style.display = 'none';
            }
        }
        
        function showDashboard() {
            if (!currentUser) {
                showAlert('Please log in to view your rides', 'error');
                openAuthModal('login');
                return;
            }
            
            // Hide all sections
            document.querySelectorAll('section').forEach(section => {
                if (section.id !== 'dashboard') {
                    section.style.display = 'none';
                }
            });
            
            // Show dashboard
            const dashboard = document.getElementById('dashboard');
            dashboard.style.display = 'block';
            
            // Update dashboard content
            updateDashboard();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function updateDashboard() {
            if (!currentUser) return;
            
            const stats = storage.getUserStats(currentUser.id);
            
            // Update stats
            document.getElementById('totalRides').textContent = stats.totalRides;
            document.getElementById('totalSpent').textContent = `R${stats.totalSpent.toFixed(2)}`;
            document.getElementById('lastRide').textContent = stats.lastRide;
            
            // Update booking history
            const bookingHistory = document.getElementById('bookingHistory');
            if (stats.bookings.length === 0) {
                bookingHistory.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-car"></i>
                        <h4>No bookings yet</h4>
                        <p>Book your first ride to see your history here</p>
                        <button class="cta-button" id="bookFirstRide">Book Your First Ride</button>
                    </div>
                `;
                
                // Re-attach event listener
                document.getElementById('bookFirstRide').addEventListener('click', function() {
                    document.getElementById('dashboard').style.display = 'none';
                    document.querySelectorAll('section').forEach(section => {
                        section.style.display = 'block';
                    });
                    document.getElementById('calculator').scrollIntoView({ behavior: 'smooth' });
                });
            } else {
                let html = `
                    <div class="history-table-container">
                        <table class="history-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>From</th>
                                    <th>To</th>
                                    <th>Time</th>
                                    <th>Fare</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                `;
                
                stats.bookings.forEach(booking => {
                    const date = new Date(booking.createdAt).toLocaleDateString();
                    const statusClass = `status-${booking.status}`;
                    
                    html += `
                        <tr>
                            <td>${date}</td>
                            <td>${booking.pickup}</td>
                            <td>${booking.destination}</td>
                            <td>${booking.displayTime}</td>
                            <td>R${booking.fare}</td>
                            <td><span class="status-badge ${statusClass}">${booking.status}</span></td>
                        </tr>
                    `;
                });
                
                html += `
                            </tbody>
                        </table>
                    </div>
                `;
                
                bookingHistory.innerHTML = html;
            }
        }
        
        // ===================== BOOKING FUNCTIONS =====================
        function calculateFare() {
            if (!currentUser) {
                showAlert('Please log in to book a ride', 'error');
                openAuthModal('login');
                return;
            }
            
            const pickupTime = document.getElementById('pickupTime').value;
            const pickup = document.getElementById('pickupSearch').value;
            const destination = document.getElementById('destinationSearch').value;
            
            if (!pickupTime) {
                showAlert('Please select pickup time', 'error');
                return;
            }
            
            if (!pickup || !destination) {
                showAlert('Please select both pickup and destination locations', 'error');
                return;
            }
            
            // Calculate fare
            const distance = 10 + Math.random() * 40; // 10-50km
            const fare = Math.round(distance * 38 * 100) / 100;
            const time = Math.round(distance * 1.5);
            
            // Format pickup time
            const timeParts = pickupTime.split(':');
            const hour = parseInt(timeParts[0]);
            const minute = timeParts[1];
            const ampm = hour >= 12 ? 'PM' : 'AM';
            const displayHour = hour % 12 || 12;
            const displayTime = `${displayHour}:${minute} ${ampm}`;
            
            // Update display
            document.getElementById('resultPrice').textContent = `R${fare.toFixed(2)}`;
            document.getElementById('resultFrom').textContent = pickup;
            document.getElementById('resultTo').textContent = destination;
            document.getElementById('resultTime').textContent = displayTime;
            document.getElementById('resultDistance').textContent = `${distance.toFixed(1)} km`;
            
            document.getElementById('resultContainer').classList.add('active');
            document.getElementById('bookingConfirmation').style.display = 'block';
            
            currentBooking = {
                userId: currentUser.id,
                pickup: pickup,
                destination: destination,
                pickupTime: pickupTime,
                displayTime: displayTime,
                distance: distance.toFixed(1),
                fare: fare.toFixed(2),
                estimatedTime: `${time} minutes`,
                createdAt: new Date().toISOString()
            };
            
            // Scroll to results
            document.getElementById('resultContainer').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'nearest' 
            });
        }
        
        function proceedToBooking() {
            if (!currentBooking) {
                showAlert('Please calculate a fare first', 'error');
                return;
            }
            
            // Save booking to storage
            const savedBooking = storage.saveBooking(currentBooking);
            
            // Send booking confirmation email
            EmailService.sendBookingConfirmation(currentUser.email, savedBooking);
            
            // Show success modal
            const contactModal = document.getElementById('contactModal');
            if (contactModal) {
                contactModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            // Hide booking confirmation
            document.getElementById('bookingConfirmation').style.display = 'none';
            
            // Update dashboard
            updateDashboard();
            
            showAlert('Booking confirmed! Check your email for details.', 'success');
        }
        
        // ===================== LOCATION SEARCH =====================
        function searchLocations(query, resultsContainer, type) {
            if (!query || query.length < 2) {
                resultsContainer.classList.remove('active');
                return;
            }
            
            const searchTerm = query.toLowerCase();
            const filtered = easternCapeLocations.filter(location => 
                location.toLowerCase().includes(searchTerm)
            ).slice(0, 8);
            
            resultsContainer.innerHTML = '';
            
            if (filtered.length > 0) {
                filtered.forEach(location => {
                    const item = document.createElement('div');
                    item.className = 'location-result-item';
                    item.textContent = location;
                    item.addEventListener('click', function() {
                        if (type === 'pickup') {
                            document.getElementById('pickupSearch').value = location;
                            document.getElementById('pickupValue').value = location;
                        } else {
                            document.getElementById('destinationSearch').value = location;
                            document.getElementById('destinationValue').value = location;
                        }
                        resultsContainer.classList.remove('active');
                    });
                    resultsContainer.appendChild(item);
                });
                resultsContainer.classList.add('active');
            } else {
                const item = document.createElement('div');
                item.className = 'location-result-item';
                item.textContent = 'No locations found';
                resultsContainer.appendChild(item);
                resultsContainer.classList.add('active');
            }
        }
        
        // ===================== INITIALIZATION =====================
        function initializeDemoData() {
            // Only initialize if no users exist
            if (storage.getUsers().length === 0) {
                const demoUser = {
                    name: 'John Doe',
                    phone: '123456789',
                    email: 'john@example.com',
                    address: '123 Main St, Qonce'
                };
                
                storage.saveUser(demoUser);
                
                // Set as current user for demo
                const user = storage.getUserByEmail('john@example.com');
                if (user) {
                    storage.setCurrentUser(user);
                    currentUser = user;
                    updateUI();
                }
                
                // Create some demo bookings
                const demoBookings = [
                    {
                        userId: storage.getUserByEmail('john@example.com').id,
                        pickup: 'Qonce CBD',
                        destination: 'East London',
                        pickupTime: '20:00',
                        displayTime: '8:00 PM',
                        distance: '35.5',
                        fare: '1349.00',
                        estimatedTime: '53 minutes',
                        status: 'completed',
                        createdAt: new Date(Date.now() - 86400000 * 2).toISOString()
                    },
                    {
                        userId: storage.getUserByEmail('john@example.com').id,
                        pickup: 'Mdantsane',
                        destination: 'Bhisho',
                        pickupTime: '22:30',
                        displayTime: '10:30 PM',
                        distance: '18.2',
                        fare: '691.60',
                        estimatedTime: '27 minutes',
                        status: 'confirmed',
                        createdAt: new Date(Date.now() - 86400000).toISOString()
                    }
                ];
                
                demoBookings.forEach(booking => storage.saveBooking(booking));
            }
        }
        
        // ===================== EVENT LISTENERS =====================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Nyt Ryder - Email OTP Version');
            console.log('Mode:', APP_CONFIG.isDemoMode ? 'DEMO (Shows OTP on screen)' : 'PRODUCTION (Real emails)');
            
            if (APP_CONFIG.isDemoMode) {
                console.log(' To enable real emails:');
                console.log('1. Sign up for FREE at https://www.emailjs.com');
                console.log('2. Create email template');
                console.log('3. Update EMAIL_CONFIG in the code');
                console.log('4. Set APP_CONFIG.isDemoMode = false');
            }
            
            // Get elements
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mainNav = document.getElementById('mainNav');
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');
            const openDriverForm = document.getElementById('openDriverForm');
            const closeModal = document.getElementById('closeModal');
            const closeContactModal = document.getElementById('closeContactModal');
            const closeSuccessBtn = document.getElementById('closeSuccessBtn');
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const driverTab = document.getElementById('driverTab');
            const requestLoginOtpBtn = document.getElementById('requestLoginOtpBtn');
            const requestRegisterOtpBtn = document.getElementById('requestRegisterOtpBtn');
            const submitDriverBtn = document.getElementById('submitDriverBtn');
            const verifyOtpBtn = document.getElementById('verifyOtpBtn');
            const resendOtpBtn = document.getElementById('resendOtpBtn');
            const calculateBtn = document.getElementById('calculateBtn');
            const bookNowBtn = document.getElementById('bookNowBtn');
            const cancelBookingBtn = document.getElementById('cancelBookingBtn');
            const noticeLoginLink = document.getElementById('noticeLoginLink');
            const noticeRegisterLink = document.getElementById('noticeRegisterLink');
            const userProfile = document.getElementById('userProfile');
            const newRideBtn = document.getElementById('newRideBtn');
            const bookFirstRide = document.getElementById('bookFirstRide');
            const pickupSearch = document.getElementById('pickupSearch');
            const destinationSearch = document.getElementById('destinationSearch');
            const pickupResults = document.getElementById('pickupResults');
            const destinationResults = document.getElementById('destinationResults');
            const dashboardLink = document.getElementById('dashboardLink');
            
            // Initialize
            initializeDemoData();
            updateUI();
            
            // Mobile Menu
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', function() {
                    mainNav.classList.toggle('active');
                    this.innerHTML = mainNav.classList.contains('active') 
                        ? '<i class="fas fa-times"></i>' 
                        : '<i class="fas fa-bars"></i>';
                });
            }
            
            // Close mobile menu when clicking outside
            document.addEventListener('click', function(e) {
                if (mainNav && mainNav.classList.contains('active') && 
                    !mainNav.contains(e.target) && 
                    e.target !== mobileMenuBtn) {
                    mainNav.classList.remove('active');
                    if (mobileMenuBtn) {
                        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    }
                }
            });
            
            // Auth Modal
            if (loginBtn) loginBtn.addEventListener('click', () => openAuthModal('login'));
            if (registerBtn) registerBtn.addEventListener('click', () => openAuthModal('register'));
            if (openDriverForm) openDriverForm.addEventListener('click', () => openAuthModal('driver'));
            if (closeModal) closeModal.addEventListener('click', closeAuthModal);
            
            if (loginTab) loginTab.addEventListener('click', () => switchAuthTab('login'));
            if (registerTab) registerTab.addEventListener('click', () => switchAuthTab('register'));
            if (driverTab) driverTab.addEventListener('click', () => switchAuthTab('driver'));
            
            if (noticeLoginLink) noticeLoginLink.addEventListener('click', (e) => {
                e.preventDefault();
                openAuthModal('login');
            });
            
            if (noticeRegisterLink) noticeRegisterLink.addEventListener('click', (e) => {
                e.preventDefault();
                openAuthModal('register');
            });
            
            // OTP Functions
            if (requestLoginOtpBtn) {
                requestLoginOtpBtn.addEventListener('click', async function() {
                    const email = document.getElementById('loginEmail').value;
                    
                    if (!email || !isValidEmail(email)) {
                        showAlert('Please enter a valid email address', 'error');
                        return;
                    }
                    
                    await sendOTP(email, 'login');
                });
            }
            
            if (requestRegisterOtpBtn) {
                requestRegisterOtpBtn.addEventListener('click', async function() {
                    const name = document.getElementById('registerName').value;
                    const phone = document.getElementById('registerPhone').value;
                    const email = document.getElementById('registerEmail').value;
                    
                    if (!name || !phone || !email) {
                        showAlert('Please fill in all required fields', 'error');
                        return;
                    }
                    
                    if (!isValidEmail(email)) {
                        showAlert('Please enter a valid email address', 'error');
                        return;
                    }
                    
                    if (phone.length < 9) {
                        showAlert('Please enter a valid South African phone number', 'error');
                        return;
                    }
                    
                    // Check if user already exists
                    const existingUser = storage.getUserByEmail(email);
                    if (existingUser) {
                        showAlert('An account with this email already exists. Please log in.', 'error');
                        return;
                    }
                    
                    await sendOTP(email, 'register');
                });
            }
            
            if (verifyOtpBtn) {
                verifyOtpBtn.addEventListener('click', function() {
                    const otpInputs = document.querySelectorAll('.otp-input');
                    const enteredOtp = Array.from(otpInputs).map(input => input.value).join('');
                    
                    if (enteredOtp.length !== 6) {
                        showAlert('Please enter a 6-digit OTP', 'error');
                        return;
                    }
                    
                    if (verifyOTP(enteredOtp)) {
                        showAlert('OTP verified successfully!', 'success');
                    }
                });
            }
            
            if (resendOtpBtn) {
                resendOtpBtn.addEventListener('click', async function() {
                    if (this.classList.contains('disabled')) return;
                    
                    const email = sessionStorage.getItem('otpEmail');
                    const purpose = sessionStorage.getItem('otpPurpose');
                    
                    if (!email) {
                        showAlert('Session expired. Please start again.', 'error');
                        return;
                    }
                    
                    await sendOTP(email, purpose);
                });
            }
            
            // OTP input auto-focus
            document.addEventListener('input', function(e) {
                if (e.target.classList.contains('otp-input')) {
                    const index = parseInt(e.target.dataset.index);
                    const value = e.target.value;
                    
                    if (value && index < 5) {
                        const nextInput = document.querySelector(`.otp-input[data-index="${index + 1}"]`);
                        if (nextInput) nextInput.focus();
                    }
                }
            });
            
            // Driver Application
            if (submitDriverBtn) {
                submitDriverBtn.addEventListener('click', function() {
                    const name = document.getElementById('driverName').value;
                    const id = document.getElementById('driverId').value;
                    const phone = document.getElementById('driverPhone').value;
                    const email = document.getElementById('driverEmail').value;
                    const address = document.getElementById('driverAddress').value;
                    const license = document.getElementById('driverLicense').value;
                    const carModel = document.getElementById('carModel').value;
                    const carRegistration = document.getElementById('carRegistration').value;
                    const carColor = document.getElementById('carColor').value;
                    const criminalCheck = document.getElementById('criminalCheck').checked;
                    const ownerCheck = document.getElementById('ownerCheck').checked;
                    const termsCheck = document.getElementById('termsCheck').checked;
                    
                    if (!name || !id || !phone || !email || !address || !license || !carModel || !carRegistration || !carColor) {
                        showAlert('Please fill in all required fields', 'error');
                        return;
                    }
                    
                    if (!criminalCheck || !ownerCheck || !termsCheck) {
                        showAlert('Please agree to all terms and conditions', 'error');
                        return;
                    }
                    
                    const driverApplication = {
                        name,
                        id,
                        phone,
                        email,
                        address,
                        license,
                        carModel,
                        carRegistration,
                        carColor,
                        status: 'pending',
                        appliedAt: new Date().toISOString()
                    };
                    
                    storage.saveDriverApplication(driverApplication);
                    EmailService.sendDriverApplicationNotification(driverApplication);
                    
                    showAlert('Driver application submitted successfully! We will contact you soon.', 'success');
                    closeAuthModal();
                });
            }
            
            // Booking Functions
            if (calculateBtn) calculateBtn.addEventListener('click', calculateFare);
            if (bookNowBtn) bookNowBtn.addEventListener('click', proceedToBooking);
            
            if (cancelBookingBtn) {
                cancelBookingBtn.addEventListener('click', function() {
                    document.getElementById('bookingConfirmation').style.display = 'none';
                });
            }
            
            // Dashboard Functions
            if (newRideBtn) {
                newRideBtn.addEventListener('click', function() {
                    document.getElementById('dashboard').style.display = 'none';
                    document.querySelectorAll('section').forEach(section => {
                        section.style.display = 'block';
                    });
                    document.getElementById('calculator').scrollIntoView({ behavior: 'smooth' });
                });
            }
            
            if (dashboardLink) {
                dashboardLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    showDashboard();
                });
            }
            
            // User Profile
            if (userProfile) {
                userProfile.addEventListener('click', function() {
                    const menu = confirm('What would you like to do?\n\n1. View My Rides\n2. Log Out\n\nClick OK for My Rides or Cancel for Log Out');
                    
                    if (menu) {
                        showDashboard();
                    } else {
                        logoutUser();
                    }
                });
            }
            
            // Contact Modal
            if (closeContactModal) {
                closeContactModal.addEventListener('click', function() {
                    document.getElementById('contactModal').classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            }
            
            if (closeSuccessBtn) {
                closeSuccessBtn.addEventListener('click', function() {
                    document.getElementById('contactModal').classList.remove('active');
                    document.body.style.overflow = 'auto';
                    updateDashboard();
                    showDashboard();
                });
            }
            
            // Location Search
            if (pickupSearch) {
                pickupSearch.addEventListener('input', function() {
                    searchLocations(this.value, pickupResults, 'pickup');
                });
            }
            
            if (destinationSearch) {
                destinationSearch.addEventListener('input', function() {
                    searchLocations(this.value, destinationResults, 'destination');
                });
            }
            
            // Close search results when clicking outside
            document.addEventListener('click', function(e) {
                if (pickupSearch && !pickupSearch.contains(e.target) && pickupResults && !pickupResults.contains(e.target)) {
                    pickupResults.classList.remove('active');
                }
                if (destinationSearch && !destinationSearch.contains(e.target) && destinationResults && !destinationResults.contains(e.target)) {
                    destinationResults.classList.remove('active');
                }
            });
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    
                    if (href === '#dashboard') return; // Handled separately
                    if (href === '#') return;
                    
                    const targetElement = document.querySelector(href);
                    if (targetElement) {
                        e.preventDefault();
                        
                        // Hide dashboard if showing
                        document.getElementById('dashboard').style.display = 'none';
                        document.querySelectorAll('section').forEach(section => {
                            if (section.id !== 'dashboard') {
                                section.style.display = 'block';
                            }
                        });
                        
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu
                        if (mainNav.classList.contains('active')) {
                            mainNav.classList.remove('active');
                            mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                });
            });
            
            // Close modals when clicking outside
            document.addEventListener('click', function(e) {
                const authModal = document.getElementById('authModal');
                const contactModal = document.getElementById('contactModal');
                
                if (authModal && e.target === authModal) {
                    closeAuthModal();
                }
                
                if (contactModal && e.target === contactModal) {
                    contactModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Escape key to close modals
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeAuthModal();
                    
                    const contactModal = document.getElementById('contactModal');
                    if (contactModal && contactModal.classList.contains('active')) {
                        contactModal.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                }
            });
            
            // Auto-fill demo data for testing
            document.getElementById('loginEmail').value = 'john@example.com';
            document.getElementById('registerName').value = 'Test User';
            document.getElementById('registerPhone').value = '123456789';
            document.getElementById('registerEmail').value = 'test@example.com';
        });
    </script>
    
    <!-- EmailJS SDK (only loaded if not in demo mode) -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        if (!APP_CONFIG.isDemoMode && EMAIL_CONFIG.publicKey) {
            // Initialize EmailJS if in production mode
            (function() {
                emailjs.init(EMAIL_CONFIG.publicKey);
                console.log('EmailJS initialized for production');
            })();
        }
    </script>
</body>
</html>
